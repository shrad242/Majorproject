CREATE DATABASE IF NOT EXISTS fee_portal;
USE fee_portal;

-- Table for storing student information
CREATE TABLE students (
    id INT AUTO_INCREMENT PRIMARY KEY,
    student_name VARCHAR(255),
    roll_number VARCHAR(20),
    email VARCHAR(255)
);

-- Table for storing fee details
CREATE TABLE fees (
    id INT AUTO_INCREMENT PRIMARY KEY,
    student_id INT,
    amount DECIMAL(10,2),
    status ENUM('unpaid', 'paid') DEFAULT 'unpaid',
    FOREIGN KEY (student_id) REFERENCES students(id)
);

-- Table for storing payment information
CREATE TABLE payments (
    id INT AUTO_INCREMENT PRIMARY KEY,
    fee_id INT,
    transaction_id VARCHAR(50),
    payment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (fee_id) REFERENCES fees(id)
);
